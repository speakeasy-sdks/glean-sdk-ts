/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { expect, test } from "vitest";
import { Glean } from "../index.js";
import { createTestHTTPClient } from "./testclient.js";

test("Search Autocomplete", async () => {
  const testHttpClient = createTestHTTPClient("autocomplete");

  const glean = new Glean({
    serverURL: process.env["TEST_SERVER_URL"] ?? "http://localhost:18080",
    httpClient: testHttpClient,
    bearerAuth: process.env["GLEAN_BEARER_AUTH"] ?? "value",
  });

  const result = await glean.client.search.autocomplete({
    trackingToken: "trackingToken",
    query: "San Fra",
    datasource: "GDRIVE",
    resultSize: 10,
    authTokens: [
      {
        accessToken: "123abc",
        datasource: "gmail",
        scope: "email profile https://www.googleapis.com/auth/gmail.readonly",
        tokenType: "Bearer",
        authUser: "1",
      },
    ],
  });
  expect(result).toBeDefined();
});
